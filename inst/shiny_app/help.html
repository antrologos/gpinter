<p>This application is an interface to the R package <code>gpinter</code>. It provides a set of tools to estimate and manipulate distributions of income and wealth on the basis of simple tabulated data files (such as those provided by tax administrations and statistical institutes) and generalized Pareto interpolation methods.</p>

<p>The traditional Pareto interpolation method &mdash; first used by V.&nbsp;Pareto (1896) and then followed by S.&nbsp;Kuznets (1953), A.&nbsp;Atkinson and A.&nbsp;Harrison (1978), T.&nbsp;Piketty (2001, 2003) and the subsequent research literature on top income and wealth shares until recently &mdash; assumes that the distribution of income and wealth follows a Pareto distribution (or power law) with a constant exponent above a certain threshold. Typically, the inverted Pareto coefficient \(b(p)=\mathbb{E}[y|y>y(p)]/y(p)\) (where \(y(p)\) is the income or wealth quantile threshold corresping to fractile \(p\)) is assumed to be constant within the top 10% or top 1% of the distribution. This approximation is acceptable for some purposes but is generally not entirely correct. In addition, it cannot be used to interpolate the entire distribution.</p>

<p>In contrast, the <em>generalized Pareto interpolation</em> method is a flexible non-parametric method based upon the interpolation of a transformation of the full <em>Pareto curve</em> \(b(p)\), which does not need to be constant and can follow any shape. Providing that the input tabulation contains sufficiently many data points, the method provides very precise estimates of the full distribution. For a detailed presentation of the notion of Pareto curves and of the generalized Pareto interpolation method, <a href="http://wid.world/document/blanchet-t-fournier-j-piketty-t-generalized-pareto-curves-theory-applications-2017/" target="_blank">see T.&nbsp;Blanchet, J.&nbsp;Fournier and T.&nbsp;Piketty, “Generalized Pareto curves: theory and applications”, 2017</a>.</p>

<a class="anchor" id="functionalities"></a>
<h2>Functionalities</h2>

<p>The application can be used for the following tasks:</p>
<ul>
    <li>Estimate an entire distribution based on the values of the quantiles and the top shares at a few points.</li>
    <li>Estimate an entire distribution based on the values of the top shares at a few points.</li>
    <li>Individualize the household distribution under equal sharing of income among spouses.</li>
    <li>Merge the distribution between several countries.</li>
    <li>Add up two components of income (say, labor income and capital income, housing wealth and financial wealth, male earnings and female earnings ) assuming that the dependance between those two variables is characterized by a Gumbel copula.</li>
    <li>Simulate a representative sample from the estimated distribution.</li>
</ul>

<a class="anchor" id="share-based"></a>
<h2>Share-based interpolation</h2>
<p>In case the user solely provides bracket-level information on averages for income or wealth (ie. information on fractiles \(p\) and on shares or averages using “bracketsh”, “topsh”, “bracketavg” or “topavg”), and no bracket-level information on thresholds (“thr”), the interface will provide output tables by interpolating the Lorenz curve.</p>
<p>We stress that shares-based interpolation is bound to be less precise than thresholds-and-shares-based generalized Pareto interpolation, and we urge users to be cautious. In order to improve accuracy, we offer the possibility to specify the inverted Pareto coefficient b for the top bracket (eg. on the basis of observed b for countries and years with similar Lorenz curves). In case this information is provided by the user it will be exploited by the interpolation procedure (otherwise it will be estimated from Lorenz curve interpolation).</p>

<a class="anchor" id="threshold-based"></a>
<h2>Threshold-based interpolation</h2>
<p>In case the user solely provides bracket-level information on thresholds (ie. information on fractiles \(p\) and matching quantiles “thr”), and no bracket-level information on averages for income or wealth (i.e. no information on shares or averages using “bracketsh”, “topsh”, “bracketavg”, “topavg” or “b”), the interface will provide output tables by interpolating the quantile function. In case the user also provides information on the overall average income or wealth for the entire population this information will be exploited by the interpolation procedure (otherwise it will be estimated from quantile function interpolation).</p>
<p>We stress that thresholds-based interpolation is bound to be less precise than thresholds-and-shares-based generalized Pareto interpolation, and we urge users to be cautious. In order to raise accuracy, we offer the possibility to specify the inverted Pareto coefficient b for the top bracket (e.g. on the basis of observed b for countries and years with similar quantile functions below the top). In case this information is provided by the user it will be exploited by the interpolation procedure (otherwise it will be estimated from quantile function interpolation).</p>

<a class="anchor" id="copula"></a>
<h2>Adding up income or wealth components using Gumbel copulas</h2>
<p>The interface has an option to add up components of income or wealth (for example, labor and capital income) with the assumption that the dependance between labor and capital income is characterized by a Gumbel copula. This option can be useful in countries where tabulations of the distribution of labor and capital incomes are available separately, but not jointly.</p>
<p>The Gumbel copula assumption means that the joint distribution of the rank in the first and the second components has the cumulative distribution function:
\[
F(u,v)=\exp\left[-\left((-\log u)^{\theta}+(-\log v)^{\theta}\right)^{1/\theta}\right]
\]
where \(\theta \in [1,+\infty[\).The higher \(\theta\), the stronger the dependence, with \(\theta = 1\) meaning full independence, and \(\theta = +\infty\) meaning perfect correlation of the ranks. In practice, a value of \(\theta=3\) approximates the dependance between labor and capital income quite well. For more information, see T.&nbsp;Blanchet, “Copulas and the joint distribution of incomes”, 2017 (forthcoming).</p>

<a class="anchor" id="source"></a>
<h2>Source code</h2>
This application and the R package on which it is built are open source and published under the <a href="https://opensource.org/licenses/MIT" target="_blank">MIT licence</a>. The source code is <a href="https://github.com/thomasblanchet/gpinter" target="_blank">available on GitHub</a>.

<a class="anchor" id="contact"></a>
<h2>Contact us</h2>

<p>This interface was conceived and developped by T.&nbsp;Blanchet, J.&nbsp;Fournier and T.&nbsp;Piketty. If you have questions, or think you found a bug, do not hesitate to contact us at <a href="mailto:thomas.blanchet@wid.world">thomas.blanchet@wid.world</a>.</p>
